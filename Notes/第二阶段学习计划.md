# Kubernetes 学习路径 - 第二阶段（筑基期）详细学习计划

## 🎯 阶段目标
- **时间安排**: 4-6 周，每周 8-10 小时（总计 32-60 小时）
- **核心目标**: 
  - 深入理解 Kubernetes 基本架构
  - 掌握 Kubernetes 容器调度的基本流程

## 🗺️ 整体学习路径图

```
第1周：基础架构认知
架构概览 → API Server → Etcd 存储
   ⬇️
第2周：控制和调度机制  
控制器模式 → 调度算法 → 整体流程
   ⬇️
第3周：节点组件深入
Kubelet → 容器运行时 → 网络组件
   ⬇️
第4周：核心插件实战
DNS 服务 → 网络插件 → 手动部署
   ⬇️
第5-6周：高级综合实战
交互分析 → 故障排查 → 性能优化
```

## 📋 学习曲线设计原则

- **🎯 渐进式难度**：从概念理解 → 机制分析 → 实践操作 → 故障排查
- **🔗 依赖关系清晰**：每个阶段都基于前一阶段的知识
- **⚖️ 理论实践平衡**：每个概念都有对应的动手实验
- **🎪 灵活性**：标记了优先级，可根据时间调整学习重点

## 🏷️ 优先级标签说明

- **🔥 基础必修/核心必修**：必须掌握，是后续学习的基础
- **⭐ 综合提升/综合应用**：重要的综合性内容，强烈建议完成
- **🟡 进阶选修/深入理解**：深入内容，时间充裕时学习
- **💡 学习建议**：针对该模块的具体学习策略
- **⚠️ 注意事项**：学习过程中需要注意的问题

## 📅 详细周计划

### 第1周：理论基础和架构概览（8-10小时）
**学习主线**：从宏观到微观，先整体架构 → API Server → 数据存储

#### 📅 Day 1-2: Control Plane & Node 架构理解（3-4小时）
**学习优先级**：🔥 基础必修 | **前置要求**：完成环境安装
**学习内容**：
- [ ] 阅读官方文档：[Kubernetes Components](https://kubernetes.io/docs/concepts/overview/components/)
- [ ] 理解 Control Plane（原 Master）和 Node 的关系
- [ ] 学习组件间的通信机制

**详细实践步骤**：

**步骤1：环境准备和集群信息获取**
```bash
# 1.1 启动本地集群
minikube start

# 1.2 验证集群状态
kubectl cluster-info

# 1.3 查看节点详细信息
kubectl get nodes -o wide
kubectl describe nodes

# 记录观察到的信息：节点名称、IP地址、容器运行时、操作系统等
```

**步骤2：系统组件探索**
```bash
# 2.1 查看所有系统组件 Pod
kubectl get pods -n kube-system -o wide

# 2.2 查看每个组件的详细信息
kubectl describe pod -n kube-system <kube-apiserver-pod>
kubectl describe pod -n kube-system <etcd-pod>
kubectl describe pod -n kube-system <kube-scheduler-pod>
kubectl describe pod -n kube-system <kube-controller-manager-pod>

# 2.3 查看组件运行状态和资源使用
kubectl top pod -n kube-system
```

**步骤3：组件配置和通信分析**
```bash
# 3.1 查看 API Server 的配置参数
kubectl get pod -n kube-system <kube-apiserver-pod> -o yaml

# 3.2 检查组件间的网络通信
kubectl get svc -n kube-system
kubectl get endpoints -n kube-system

# 3.3 查看集群网络配置
kubectl get configmap -n kube-system
kubectl describe configmap kubeadm-config -n kube-system
```

**步骤4：架构图绘制**
- [ ] 创建文档记录观察到的组件信息
- [ ] 使用工具（如 draw.io、Lucidchart）或手绘架构图
- [ ] 标注组件间的通信关系和端口

**知识点检查**：
- 能说出 Control Plane 包含哪些组件？
- Node 节点包含哪些核心组件？
- 各组件之间如何通信？
- 每个组件的主要配置参数是什么？

#### 📅 Day 3-4: API Server 深入理解（3-4小时）
**学习优先级**：🔥 基础必修 | **前置要求**：完成 Day 1-2 架构理解
**依赖关系**：需要先理解整体架构，再深入 API Server 细节
**学习内容**：
- [ ] API Server 的职责和工作原理
- [ ] RESTful API 设计理念
- [ ] 请求处理流程：认证、授权、准入控制

**详细实践步骤**：

**步骤1：API Server 代理访问**
```bash
# 1.1 启动 kubectl proxy（在新终端窗口运行）
kubectl proxy --port=8080

# 1.2 通过代理访问 API Server（在另一个终端）
curl http://localhost:8080/api/v1
curl http://localhost:8080/api/v1/namespaces
curl http://localhost:8080/api/v1/nodes

# 1.3 探索 API 版本和资源组
curl http://localhost:8080/api
curl http://localhost:8080/apis
```

**步骤2：直接 API 调用实验**
```bash
# 2.1 获取集群 API Server 地址
kubectl cluster-info

# 2.2 获取访问令牌
APISERVER=$(kubectl config view --minify -o jsonpath='{.clusters[0].cluster.server}')
TOKEN=$(kubectl create token default)

# 2.3 使用令牌直接访问 API Server
curl -X GET $APISERVER/api/v1/namespaces/default/pods \
  --header "Authorization: Bearer $TOKEN" \
  --insecure
```

**步骤3：API 操作实验**
```bash
# 3.1 创建一个简单的 Pod YAML
cat > test-pod.yaml <<EOF
apiVersion: v1
kind: Pod
metadata:
  name: test-pod
spec:
  containers:
  - name: nginx
    image: nginx:latest
EOF

# 3.2 使用 kubectl apply 创建 Pod
kubectl apply -f test-pod.yaml

# 3.3 查询创建的 Pod
curl -X GET $APISERVER/api/v1/namespaces/default/pods/test-pod \
  --header "Authorization: Bearer $TOKEN" \
  --insecure
```

**步骤4：API Server 日志分析**
```bash
# 4.1 查看 API Server 日志
kubectl logs -n kube-system -l component=kube-apiserver --tail=50

# 4.2 实时监控 API Server 日志（在新终端）
kubectl logs -n kube-system -l component=kube-apiserver -f

# 4.3 执行一些操作，观察日志变化
kubectl get pods
kubectl create deployment nginx --image=nginx
kubectl delete deployment nginx
```

**步骤5：API 版本探索**
```bash
# 5.1 查看所有 API 版本
kubectl api-versions

# 5.2 查看特定资源的 API 信息
kubectl explain pod
kubectl explain pod.spec
kubectl explain deployment

# 5.3 比较不同 API 版本
kubectl explain pod --api-version=v1
```

**清理操作**：
```bash
kubectl delete pod test-pod
```

**知识点检查**：
- API Server 如何处理一个 kubectl 请求？
- 什么是 API 版本控制？
- RESTful API 的基本操作有哪些？
- 认证、授权、准入控制的流程是什么？

#### 📅 Day 5-7: Etcd 存储机制（2-3小时）
**学习优先级**：🟡 进阶选修 | **前置要求**：完成 API Server 学习
**依赖关系**：理解 API Server 后，学习数据如何存储在 Etcd 中
**学习建议**：⚠️ 如果时间紧张，可以先跳过深入的 etcd 操作，重点理解概念
**学习内容**：
- [ ] 阅读 [Etcd 官方文档](https://etcd.io/docs)
- [ ] 理解分布式一致性算法（Raft）
- [ ] Kubernetes 如何使用 Etcd

**详细实践步骤**：

**步骤1：Etcd 状态探索**
```bash
# 1.1 查看 etcd Pod 状态
kubectl get pods -n kube-system -l component=etcd

# 1.2 查看 etcd 配置
kubectl describe pod -n kube-system <etcd-pod-name>

# 1.3 查看 etcd 日志
kubectl logs -n kube-system <etcd-pod-name> --tail=20
```

**步骤2：通过 API Server 查看 Etcd 数据**
```bash
# 2.1 查看 namespace 在 etcd 中的存储
kubectl get --raw /api/v1/namespaces | jq .

# 2.2 查看 pods 在 etcd 中的存储
kubectl get --raw /api/v1/pods | jq .

# 2.3 查看 configmaps 存储
kubectl get --raw /api/v1/namespaces/kube-system/configmaps | jq .

# 2.4 查看特定资源的存储结构
kubectl get --raw /api/v1/namespaces/default | jq .
```

**步骤3：数据变化观察实验**
```bash
# 3.1 创建一个 namespace 并观察
kubectl create namespace test-etcd
kubectl get --raw /api/v1/namespaces/test-etcd | jq .

# 3.2 在 namespace 中创建资源
kubectl create configmap test-config --from-literal=key1=value1 -n test-etcd
kubectl get --raw /api/v1/namespaces/test-etcd/configmaps/test-config | jq .

# 3.3 修改资源并观察变化
kubectl patch configmap test-config -n test-etcd -p '{"data":{"key2":"value2"}}'
kubectl get --raw /api/v1/namespaces/test-etcd/configmaps/test-config | jq .

# 3.4 删除资源
kubectl delete namespace test-etcd
```

**步骤4：备份恢复理解**
```bash
# 4.1 查看 etcd 的数据目录配置
kubectl get pod -n kube-system <etcd-pod-name> -o yaml | grep -A 5 -B 5 data-dir

# 4.2 了解备份命令（不要在生产环境执行）
echo "备份命令示例："
echo "etcdctl snapshot save backup.db"

# 4.3 查看 etcd 集群健康状态（如果可以访问）
kubectl exec -n kube-system <etcd-pod-name> -- etcdctl endpoint health --endpoints=127.0.0.1:2379 --insecure-skip-tls-verify
```

**知识点检查**：
- Etcd 解决了什么问题？
- Kubernetes 在 Etcd 中存储了什么数据？
- 数据在 etcd 中是如何组织的？
- 为什么 etcd 使用 Raft 算法？

---

### 第2周：控制器和调度器深入（8-10小时）
**学习主线**：从控制理念到调度实现，先控制器 → 调度器 → 整体流程

#### 📅 Day 1-3: Controller Manager 核心理念（4-5小时）
**学习优先级**：🔥 核心必修 | **前置要求**：完成第1周 API Server 学习
**依赖关系**：需要先理解 API Server，才能理解控制器如何与之交互
**学习建议**：✅ 这是理解 Kubernetes 自动化的关键，务必掌握
**学习内容**：
- [ ] 控制器模式（Controller Pattern）
- [ ] List-Watch 机制原理
- [ ] 常见控制器类型：Deployment、ReplicaSet、Service 等

**详细实践步骤**：

**步骤1：控制器运行状态分析**
```bash
# 1.1 查看 Controller Manager 状态
kubectl get pods -n kube-system -l component=kube-controller-manager

# 1.2 查看 Controller Manager 日志
kubectl logs -n kube-system -l component=kube-controller-manager --tail=50

# 1.3 查看控制器配置
kubectl describe pod -n kube-system <controller-manager-pod>
```

**步骤2：Deployment 控制器实验**
```bash
# 2.1 创建 Deployment 并实时观察
kubectl create deployment nginx-test --image=nginx:latest --replicas=3

# 2.2 在另一个终端实时监控事件
kubectl get events --watch &

# 2.3 观察资源创建过程
kubectl get deployments,replicasets,pods -l app=nginx-test --watch

# 2.4 查看资源的 owner references
kubectl get replicaset -l app=nginx-test -o yaml | grep -A 5 ownerReferences
kubectl get pods -l app=nginx-test -o yaml | grep -A 5 ownerReferences
```

**步骤3：控制器自愈能力测试**
```bash
# 3.1 删除单个 Pod，观察恢复过程
POD_NAME=$(kubectl get pods -l app=nginx-test -o jsonpath='{.items[0].metadata.name}')
kubectl delete pod $POD_NAME

# 3.2 观察新 Pod 创建过程
kubectl get pods -l app=nginx-test --watch

# 3.3 查看相关事件
kubectl get events --field-selector reason=Created,reason=Started --sort-by='.lastTimestamp'

# 3.4 删除 ReplicaSet，观察恢复
RS_NAME=$(kubectl get rs -l app=nginx-test -o jsonpath='{.items[0].metadata.name}')
kubectl delete rs $RS_NAME
kubectl get rs,pods -l app=nginx-test --watch
```

**步骤4：扩缩容控制器行为观察**
```bash
# 4.1 扩容操作
kubectl scale deployment nginx-test --replicas=5
kubectl get pods -l app=nginx-test --watch

# 4.2 缩容操作
kubectl scale deployment nginx-test --replicas=2
kubectl get pods -l app=nginx-test --watch

# 4.3 查看扩缩容事件
kubectl describe deployment nginx-test
```

**清理操作**：
```bash
kubectl delete deployment nginx-test
```

**知识点检查**：
- 什么是声明式 API？
- List-Watch 如何实现实时同步？
- 控制循环的工作原理？
- OwnerReferences 的作用是什么？

#### 📅 Day 4-5: Scheduler 调度机制（3-4小时）
**学习优先级**：🔥 核心必修 | **前置要求**：完成 Controller Manager 学习
**依赖关系**：理解控制器创建 Pod 后，学习调度器如何分配 Pod 到节点
**学习建议**：✅ 与控制器配合，形成完整的 Pod 创建流程理解
**学习内容**：
- [ ] 阅读：[Kubernetes Scheduler](https://kubernetes.io/docs/concepts/scheduling/kube-scheduler/)
- [ ] 调度算法：预选（Predicate）和优选（Priority）
- [ ] 资源请求和限制对调度的影响

**详细实践步骤**：

**步骤1：调度器状态分析**
```bash
# 1.1 查看调度器 Pod 状态
kubectl get pods -n kube-system -l component=kube-scheduler

# 1.2 查看调度器日志
kubectl logs -n kube-system -l component=kube-scheduler --tail=50

# 1.3 查看调度器配置
kubectl describe pod -n kube-system <scheduler-pod-name>
```

**步骤2：基本调度实验**
```bash
# 2.1 创建简单的 Pod 观察调度过程
kubectl run simple-pod --image=nginx:latest

# 2.2 实时监控调度事件
kubectl get events --watch | grep -i schedul &

# 2.3 查看 Pod 调度结果
kubectl get pod simple-pod -o wide
kubectl describe pod simple-pod

# 2.4 查看节点资源情况
kubectl describe nodes
kubectl top nodes
```

**步骤3：资源请求调度实验**
```bash
# 3.1 创建有资源请求的 Pod
kubectl apply -f - <<EOF
apiVersion: v1
kind: Pod
metadata:
  name: resource-pod
spec:
  containers:
  - name: nginx
    image: nginx:latest
    resources:
      requests:
        cpu: "0.5"
        memory: "256Mi"
      limits:
        cpu: "1"
        memory: "512Mi"
EOF

# 3.2 观察调度过程
kubectl describe pod resource-pod
kubectl get events --field-selector involvedObject.name=resource-pod

# 3.3 查看节点资源分配情况
kubectl describe nodes | grep -A 5 "Allocated resources"
```

**步骤4：调度约束实验**
```bash
# 4.1 创建不可调度的 Pod（资源过大）
kubectl apply -f - <<EOF
apiVersion: v1
kind: Pod
metadata:
  name: large-resource-pod
spec:
  containers:
  - name: nginx
    image: nginx:latest
    resources:
      requests:
        cpu: "10"
        memory: "50Gi"
EOF

# 4.2 查看调度失败的原因
kubectl describe pod large-resource-pod
kubectl get events --field-selector involvedObject.name=large-resource-pod
```

**步骤5：调度故障排查**
```bash
# 5.1 创建一个无法调度的 Pod
kubectl apply -f - <<EOF
apiVersion: v1
kind: Pod
metadata:
  name: unschedulable-pod
spec:
  nodeSelector:
    nonexistent-label: "true"
  containers:
  - name: nginx
    image: nginx:latest
EOF

# 5.2 分析调度失败原因
kubectl describe pod unschedulable-pod
kubectl get events --sort-by='.lastTimestamp' | tail -10
```

**清理操作**：
```bash
kubectl delete pod simple-pod resource-pod large-resource-pod unschedulable-pod
```

**知识点检查**：
- Pod 调度的完整流程是什么？
- 调度器如何处理资源约束？
- 什么是预选（Filtering）和优选（Scoring）？
- 调度失败的常见原因有哪些？

#### 📅 Day 6-7: 深度阅读和整体串联（1-2小时）
**学习优先级**：⭐ 综合提升 | **前置要求**：完成控制器和调度器学习
**依赖关系**：需要前面所有组件知识，进行整体流程串联
**学习建议**：🎯 这是第2周的总结，务必完成以检验学习效果
**学习内容**：
- [ ] 阅读：[What happens when I type kubectl run?](https://github.com/jamiehannaford/what-happens-when-k8s)
- [ ] 中文版：[kubectl 创建 Pod 背后到底发生了什么？](https://mp.weixin.qq.com/s/ctdvbasKE-vpLRxDJjwVMw)

**详细实践步骤**：
```bash
# 综合实践：追踪完整的 Pod 创建流程
# 1. 在多个终端同时监控
kubectl get events --watch &
kubectl logs -n kube-system -l component=kube-scheduler -f &
kubectl logs -n kube-system -l component=kube-controller-manager -f &

# 2. 创建 Pod 并观察整个流程
kubectl run trace-pod --image=nginx:latest

# 3. 分析时序和组件交互
kubectl describe pod trace-pod
kubectl get events --sort-by='.lastTimestamp' | grep trace-pod

# 清理
kubectl delete pod trace-pod
```

---

### 第3周：Node 组件和网络（8-10小时）
**学习主线**：从 Control Plane 转向 Node，先 Kubelet → 容器运行时 → 网络组件

#### 📅 Day 1-3: Kubelet 深入理解（4-5小时）
**学习优先级**：🔥 核心必修 | **前置要求**：完成第2周调度器学习
**依赖关系**：理解调度器分配 Pod 后，学习 Kubelet 如何在节点上运行 Pod
**学习建议**：✅ 这是理解 Pod 实际运行的关键组件
**学习内容**：
- [ ] Kubelet 的职责和工作机制
- [ ] Pod 生命周期管理
- [ ] 容器运行时接口（CRI）

**详细实践步骤**：

**步骤1：Kubelet 状态分析**
```bash
# 1.1 进入节点查看 Kubelet 进程
minikube ssh
ps aux | grep kubelet

# 1.2 查看 Kubelet 配置
minikube ssh
sudo cat /var/lib/kubelet/config.yaml

# 1.3 查看 Kubelet 日志
minikube ssh
sudo journalctl -u kubelet --no-pager --lines=50
```

**步骤2：Pod 生命周期实验**
```bash
# 2.1 创建带有生命周期钩子的 Pod
kubectl apply -f - <<EOF
apiVersion: v1
kind: Pod
metadata:
  name: lifecycle-pod
spec:
  containers:
  - name: nginx
    image: nginx:latest
    lifecycle:
      postStart:
        exec:
          command: ["/bin/sh", "-c", "echo 'PostStart executed' > /tmp/lifecycle.log"]
      preStop:
        exec:
          command: ["/bin/sh", "-c", "echo 'PreStop executed' >> /tmp/lifecycle.log; sleep 10"]
EOF

# 2.2 监控 Pod 启动过程
kubectl get pod lifecycle-pod --watch

# 2.3 查看生命周期事件
kubectl describe pod lifecycle-pod
kubectl exec lifecycle-pod -- cat /tmp/lifecycle.log

# 2.4 删除 Pod 观察停止过程
kubectl delete pod lifecycle-pod --grace-period=30
```

**步骤3：容器运行时探索**
```bash
# 3.1 查看节点上的容器
minikube ssh
sudo docker ps | head -10

# 3.2 查看具体容器信息
CONTAINER_ID=$(sudo docker ps | grep nginx | awk '{print $1}' | head -1)
sudo docker inspect $CONTAINER_ID | head -20
```

**知识点检查**：
- Kubelet 如何与 API Server 通信？
- Pod 在节点上的完整生命周期？
- 容器运行时接口的作用是什么？

#### 📅 Day 4-5: Container Runtime 探索（2-3小时）
**学习优先级**：🟡 深入理解 | **前置要求**：完成 Kubelet 学习
**依赖关系**：Kubelet 通过 CRI 与容器运行时交互，先学 Kubelet 再学运行时
**学习建议**：💡 偏底层，如果时间紧张可以简化，重点理解 CRI 接口
**学习内容**：
- [ ] Docker、Containerd、CRI-O 对比
- [ ] 容器镜像管理
- [ ] 容器网络基础

**实践任务**：
- [ ] 使用 `docker ps` 或 `crictl ps` 查看容器
- [ ] 理解镜像拉取过程
- [ ] 观察容器日志和资源使用

#### 📅 Day 6-7: Kube-proxy 和网络（2-3小时）
**学习优先级**：🔥 核心必修 | **前置要求**：完成前面 Node 组件学习
**依赖关系**：理解 Pod 如何运行后，学习 Pod 间如何通信
**学习建议**：✅ 网络是集群的血脉，必须理解基本原理
**学习内容**：
- [ ] Service 的实现原理
- [ ] iptables 和 IPVS 模式
- [ ] 网络插件（CNI）基础

**实践任务**：
- [ ] 创建 Service，查看 iptables 规则
- [ ] 理解 ClusterIP、NodePort、LoadBalancer

---

### 第4周：核心插件和实战（8-10小时）
**学习主线**：从基础设施到综合实践，先 DNS → 网络插件 → 手动部署实战

#### 📅 Day 1-2: DNS 服务发现（3-4小时）
**学习优先级**：🔥 核心必修 | **前置要求**：完成第3周网络基础
**依赖关系**：理解网络通信后，学习服务发现机制
**学习建议**：✅ DNS 是微服务架构的基础，务必掌握
**学习内容**：
- [ ] CoreDNS 配置和工作原理
- [ ] Kubernetes 中的 DNS 解析
- [ ] Service Discovery 机制

**实践任务**：
- [ ] 测试 Pod 间的 DNS 解析
- [ ] 查看 CoreDNS 配置
- [ ] 创建自定义 DNS 记录

#### 📅 Day 3-4: 网络插件理解（3-4小时）
**学习优先级**：🟡 深入理解 | **前置要求**：完成 DNS 学习
**依赖关系**：DNS 依赖于网络插件提供的网络连通性
**学习建议**：💡 网络插件偏底层，重点理解 CNI 概念和 Flannel 基本原理
**学习内容**：
- [ ] CNI 插件架构
- [ ] Flannel 工作原理
- [ ] Pod 网络通信机制

**实践任务**：
- [ ] 查看网络插件配置
- [ ] 测试跨节点 Pod 通信
- [ ] 理解网络策略基础

#### 📅 Day 5-7: 综合实践 - 手动部署集群（2-3小时）
**学习优先级**：⭐ 综合应用 | **前置要求**：完成前面所有核心组件学习
**依赖关系**：需要前面所有知识，进行综合实践验证
**学习建议**：🎯 这是第1-4周学习的综合检验，强烈建议完成
**实践任务**：
- [ ] 完成 [lab3-manual-installation](../tutorials/lab3-manual-installtion.md)
- [ ] 尝试手动安装 Kubernetes 组件
- [ ] 排查和解决安装过程中的问题

---

### 第5-6周：深化理解和高级实战（8-16小时）
**学习主线**：从理论到实战，先组件交互分析 → 故障排查 → 性能优化

#### 🎯 学习路径说明
**前置要求**：✅ 必须完成前4周的核心学习
**学习建议**：这是高级阶段，建议根据个人时间和兴趣选择重点项目

#### 📅 Week 5 Day 1-3: 组件交互深度分析（4-6小时）
**学习优先级**：⭐ 综合提升 | **前置要求**：完成所有核心组件学习
**依赖关系**：需要对所有组件有深入理解，才能分析组件间交互
**实践目标**：
- [ ] 追踪一个 Pod 从创建到运行的完整流程
- [ ] 分析各组件的日志和事件
- [ ] 绘制详细的交互时序图

#### 📅 Week 5 Day 4-7: 故障排查技能训练（4-6小时）
**学习优先级**：🔥 实用技能 | **前置要求**：完成组件交互分析
**依赖关系**：基于对正常流程的理解，学习异常情况的处理

**实践目标**：
- [ ] 模拟组件故障
- [ ] 练习日志分析和问题定位
- [ ] 学习常见问题的解决方法

#### 📅 Week 6 Day 1-3: 性能监控和优化（2-4小时）
**学习优先级**：🟡 进阶提升 | **前置要求**：完成故障排查学习
**依赖关系**：在理解正常和异常情况后，学习性能优化

**实践目标**：
- [ ] 使用 `kubectl top` 监控资源使用
- [ ] 理解资源配额和限制
- [ ] 学习集群性能调优基础

## 📚 推荐学习资源

### 必读文档
- [ ] [Kubernetes 官方架构文档](https://kubernetes.io/docs/concepts/architecture/)
- [ ] [Kubernetes 指南 - feisky](https://kubernetes.feisky.xyz/concepts/index)
- [ ] [Etcd 官方文档](https://etcd.io/docs)

### 实践工具
- [ ] `kubectl` 命令行工具
- [ ] `minikube` 或 `kind` 本地环境
- [ ] 日志查看和监控工具

### 扩展阅读
- [ ] 《Kubernetes in Action》相关章节
- [ ] 官方 Blog 中的架构文章
- [ ] CNCF 相关技术分享

## ✅ 阶段检查清单

### 理论理解检查
- [ ] 能画出 Kubernetes 完整架构图
- [ ] 能解释 Pod 创建的完整流程
- [ ] 理解控制器模式和声明式 API
- [ ] 掌握调度器的工作原理
- [ ] 了解网络和存储的基本原理

### 实践技能检查
- [ ] 能够查看和分析各组件日志
- [ ] 能够使用 kubectl 进行集群诊断
- [ ] 能够解释集群中发生的事件
- [ ] 具备基本的故障排查能力

### 核心问题回答
在完成本阶段学习后，你应该能够回答：
1. **Kubernetes 组件是如何交互，来启动容器，并对外提供服务的？**
2. **当我执行 `kubectl apply -f deployment.yaml` 时，集群内部发生了什么？**
3. **Pod 调度和启动的完整流程是什么？**
4. **如何诊断和解决常见的集群问题？**

## 💡 学习建议

### 学习方法
1. **理论与实践结合**：每学完一个概念，立即通过实验验证
2. **绘图记忆**：通过画图加深对架构的理解
3. **日志分析**：养成查看日志的习惯
4. **问题驱动**：带着问题去学习，寻找答案

### 时间分配建议
- **理论学习**: 40%（阅读文档、博客）
- **实践操作**: 45%（命令行实验、环境搭建）
- **总结整理**: 15%（笔记、思维导图）

### 遇到困难时
1. 查看官方文档和日志
2. 搜索相关问题和解决方案
3. 在社区论坛提问
4. 与其他学习者交流讨论

记住：**筑基期是比较困难的阶段，请不要气馁！理解架构原理是后续学习的重要基础。** 💪

---

## 📊 学习进度跟踪表

### 第1周完成情况
- [ ] **Day 1-2**: Control Plane & Node 架构理解
  - [ ] 环境准备和集群信息获取
  - [ ] 系统组件探索  
  - [ ] 组件配置和通信分析
  - [ ] 架构图绘制
  
- [ ] **Day 3-4**: API Server 深入理解
  - [ ] API Server 代理访问
  - [ ] 直接 API 调用实验
  - [ ] API 操作实验
  - [ ] API Server 日志分析
  - [ ] API 版本探索
  
- [ ] **Day 5-7**: Etcd 存储机制
  - [ ] Etcd 状态探索
  - [ ] 通过 API Server 查看数据
  - [ ] 数据变化观察实验
  - [ ] 备份恢复理解

### 第2周完成情况
- [ ] **Day 1-3**: Controller Manager 核心理念
  - [ ] 控制器运行状态分析
  - [ ] Deployment 控制器实验
  - [ ] 控制器自愈能力测试
  - [ ] 扩缩容行为观察
  
- [ ] **Day 4-5**: Scheduler 调度机制
  - [ ] 调度器状态分析
  - [ ] 基本调度实验
  - [ ] 资源请求调度实验
  - [ ] 调度约束实验
  - [ ] 调度故障排查
  
- [ ] **Day 6-7**: 深度阅读和理解
  - [ ] 完整流程追踪实验
  - [ ] 阅读推荐文章

### 第3-6周完成情况
- [ ] **第3周**: Node 组件和网络
  - [ ] Kubelet 深入理解
  - [ ] Container Runtime 探索
  - [ ] Kube-proxy 和网络

- [ ] **第4周**: 核心插件和实战
  - [ ] DNS 服务发现
  - [ ] 网络插件理解
  - [ ] 综合实践

- [ ] **第5-6周**: 深化理解和实战
  - [ ] 组件交互分析
  - [ ] 故障排查练习
  - [ ] 性能监控优化

## 🎯 每日学习建议

### 实践技巧
- **多终端并行**：同时开启多个终端窗口监控不同组件
- **日志分析**：养成查看日志的习惯，日志是最好的老师
- **截图记录**：重要的实验结果建议截图保存
- **笔记整理**：建议使用 Markdown 格式记录学习笔记

### 时间分配参考
- **理论阅读**：30%
- **动手实践**：50%
- **笔记整理**：10%
- **问题解决**：10%