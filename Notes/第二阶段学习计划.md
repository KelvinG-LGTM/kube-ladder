# Kubernetes å­¦ä¹ è·¯å¾„ - ç¬¬äºŒé˜¶æ®µï¼ˆç­‘åŸºæœŸï¼‰è¯¦ç»†å­¦ä¹ è®¡åˆ’

## ğŸ¯ é˜¶æ®µç›®æ ‡
- **æ—¶é—´å®‰æ’**: 4-6 å‘¨ï¼Œæ¯å‘¨ 8-10 å°æ—¶ï¼ˆæ€»è®¡ 32-60 å°æ—¶ï¼‰
- **æ ¸å¿ƒç›®æ ‡**: 
  - æ·±å…¥ç†è§£ Kubernetes åŸºæœ¬æ¶æ„
  - æŒæ¡ Kubernetes å®¹å™¨è°ƒåº¦çš„åŸºæœ¬æµç¨‹

## ğŸ—ºï¸ æ•´ä½“å­¦ä¹ è·¯å¾„å›¾

```
ç¬¬1å‘¨ï¼šåŸºç¡€æ¶æ„è®¤çŸ¥
æ¶æ„æ¦‚è§ˆ â†’ API Server â†’ Etcd å­˜å‚¨
   â¬‡ï¸
ç¬¬2å‘¨ï¼šæ§åˆ¶å’Œè°ƒåº¦æœºåˆ¶  
æ§åˆ¶å™¨æ¨¡å¼ â†’ è°ƒåº¦ç®—æ³• â†’ æ•´ä½“æµç¨‹
   â¬‡ï¸
ç¬¬3å‘¨ï¼šèŠ‚ç‚¹ç»„ä»¶æ·±å…¥
Kubelet â†’ å®¹å™¨è¿è¡Œæ—¶ â†’ ç½‘ç»œç»„ä»¶
   â¬‡ï¸
ç¬¬4å‘¨ï¼šæ ¸å¿ƒæ’ä»¶å®æˆ˜
DNS æœåŠ¡ â†’ ç½‘ç»œæ’ä»¶ â†’ æ‰‹åŠ¨éƒ¨ç½²
   â¬‡ï¸
ç¬¬5-6å‘¨ï¼šé«˜çº§ç»¼åˆå®æˆ˜
äº¤äº’åˆ†æ â†’ æ•…éšœæ’æŸ¥ â†’ æ€§èƒ½ä¼˜åŒ–
```

## ğŸ“‹ å­¦ä¹ æ›²çº¿è®¾è®¡åŸåˆ™

- **ğŸ¯ æ¸è¿›å¼éš¾åº¦**ï¼šä»æ¦‚å¿µç†è§£ â†’ æœºåˆ¶åˆ†æ â†’ å®è·µæ“ä½œ â†’ æ•…éšœæ’æŸ¥
- **ğŸ”— ä¾èµ–å…³ç³»æ¸…æ™°**ï¼šæ¯ä¸ªé˜¶æ®µéƒ½åŸºäºå‰ä¸€é˜¶æ®µçš„çŸ¥è¯†
- **âš–ï¸ ç†è®ºå®è·µå¹³è¡¡**ï¼šæ¯ä¸ªæ¦‚å¿µéƒ½æœ‰å¯¹åº”çš„åŠ¨æ‰‹å®éªŒ
- **ğŸª çµæ´»æ€§**ï¼šæ ‡è®°äº†ä¼˜å…ˆçº§ï¼Œå¯æ ¹æ®æ—¶é—´è°ƒæ•´å­¦ä¹ é‡ç‚¹

## ğŸ·ï¸ ä¼˜å…ˆçº§æ ‡ç­¾è¯´æ˜

- **ğŸ”¥ åŸºç¡€å¿…ä¿®/æ ¸å¿ƒå¿…ä¿®**ï¼šå¿…é¡»æŒæ¡ï¼Œæ˜¯åç»­å­¦ä¹ çš„åŸºç¡€
- **â­ ç»¼åˆæå‡/ç»¼åˆåº”ç”¨**ï¼šé‡è¦çš„ç»¼åˆæ€§å†…å®¹ï¼Œå¼ºçƒˆå»ºè®®å®Œæˆ
- **ğŸŸ¡ è¿›é˜¶é€‰ä¿®/æ·±å…¥ç†è§£**ï¼šæ·±å…¥å†…å®¹ï¼Œæ—¶é—´å……è£•æ—¶å­¦ä¹ 
- **ğŸ’¡ å­¦ä¹ å»ºè®®**ï¼šé’ˆå¯¹è¯¥æ¨¡å—çš„å…·ä½“å­¦ä¹ ç­–ç•¥
- **âš ï¸ æ³¨æ„äº‹é¡¹**ï¼šå­¦ä¹ è¿‡ç¨‹ä¸­éœ€è¦æ³¨æ„çš„é—®é¢˜

## ğŸ“… è¯¦ç»†å‘¨è®¡åˆ’

### ç¬¬1å‘¨ï¼šç†è®ºåŸºç¡€å’Œæ¶æ„æ¦‚è§ˆï¼ˆ8-10å°æ—¶ï¼‰
**å­¦ä¹ ä¸»çº¿**ï¼šä»å®è§‚åˆ°å¾®è§‚ï¼Œå…ˆæ•´ä½“æ¶æ„ â†’ API Server â†’ æ•°æ®å­˜å‚¨

#### ğŸ“… Day 1-2: Control Plane & Node æ¶æ„ç†è§£ï¼ˆ3-4å°æ—¶ï¼‰
**å­¦ä¹ ä¼˜å…ˆçº§**ï¼šğŸ”¥ åŸºç¡€å¿…ä¿® | **å‰ç½®è¦æ±‚**ï¼šå®Œæˆç¯å¢ƒå®‰è£…
**å­¦ä¹ å†…å®¹**ï¼š
- [ ] é˜…è¯»å®˜æ–¹æ–‡æ¡£ï¼š[Kubernetes Components](https://kubernetes.io/docs/concepts/overview/components/)
- [ ] ç†è§£ Control Planeï¼ˆåŸ Masterï¼‰å’Œ Node çš„å…³ç³»
- [ ] å­¦ä¹ ç»„ä»¶é—´çš„é€šä¿¡æœºåˆ¶

**è¯¦ç»†å®è·µæ­¥éª¤**ï¼š

**æ­¥éª¤1ï¼šç¯å¢ƒå‡†å¤‡å’Œé›†ç¾¤ä¿¡æ¯è·å–**
```bash
# 1.1 å¯åŠ¨æœ¬åœ°é›†ç¾¤
minikube start

# 1.2 éªŒè¯é›†ç¾¤çŠ¶æ€
kubectl cluster-info

# 1.3 æŸ¥çœ‹èŠ‚ç‚¹è¯¦ç»†ä¿¡æ¯
kubectl get nodes -o wide
kubectl describe nodes

# è®°å½•è§‚å¯Ÿåˆ°çš„ä¿¡æ¯ï¼šèŠ‚ç‚¹åç§°ã€IPåœ°å€ã€å®¹å™¨è¿è¡Œæ—¶ã€æ“ä½œç³»ç»Ÿç­‰
```

**æ­¥éª¤2ï¼šç³»ç»Ÿç»„ä»¶æ¢ç´¢**
```bash
# 2.1 æŸ¥çœ‹æ‰€æœ‰ç³»ç»Ÿç»„ä»¶ Pod
kubectl get pods -n kube-system -o wide

# 2.2 æŸ¥çœ‹æ¯ä¸ªç»„ä»¶çš„è¯¦ç»†ä¿¡æ¯
kubectl describe pod -n kube-system <kube-apiserver-pod>
kubectl describe pod -n kube-system <etcd-pod>
kubectl describe pod -n kube-system <kube-scheduler-pod>
kubectl describe pod -n kube-system <kube-controller-manager-pod>

# 2.3 æŸ¥çœ‹ç»„ä»¶è¿è¡ŒçŠ¶æ€å’Œèµ„æºä½¿ç”¨
kubectl top pod -n kube-system
```

**æ­¥éª¤3ï¼šç»„ä»¶é…ç½®å’Œé€šä¿¡åˆ†æ**
```bash
# 3.1 æŸ¥çœ‹ API Server çš„é…ç½®å‚æ•°
kubectl get pod -n kube-system <kube-apiserver-pod> -o yaml

# 3.2 æ£€æŸ¥ç»„ä»¶é—´çš„ç½‘ç»œé€šä¿¡
kubectl get svc -n kube-system
kubectl get endpoints -n kube-system

# 3.3 æŸ¥çœ‹é›†ç¾¤ç½‘ç»œé…ç½®
kubectl get configmap -n kube-system
kubectl describe configmap kubeadm-config -n kube-system
```

**æ­¥éª¤4ï¼šæ¶æ„å›¾ç»˜åˆ¶**
- [ ] åˆ›å»ºæ–‡æ¡£è®°å½•è§‚å¯Ÿåˆ°çš„ç»„ä»¶ä¿¡æ¯
- [ ] ä½¿ç”¨å·¥å…·ï¼ˆå¦‚ draw.ioã€Lucidchartï¼‰æˆ–æ‰‹ç»˜æ¶æ„å›¾
- [ ] æ ‡æ³¨ç»„ä»¶é—´çš„é€šä¿¡å…³ç³»å’Œç«¯å£

**çŸ¥è¯†ç‚¹æ£€æŸ¥**ï¼š
- èƒ½è¯´å‡º Control Plane åŒ…å«å“ªäº›ç»„ä»¶ï¼Ÿ
- Node èŠ‚ç‚¹åŒ…å«å“ªäº›æ ¸å¿ƒç»„ä»¶ï¼Ÿ
- å„ç»„ä»¶ä¹‹é—´å¦‚ä½•é€šä¿¡ï¼Ÿ
- æ¯ä¸ªç»„ä»¶çš„ä¸»è¦é…ç½®å‚æ•°æ˜¯ä»€ä¹ˆï¼Ÿ

#### ğŸ“… Day 3-4: API Server æ·±å…¥ç†è§£ï¼ˆ3-4å°æ—¶ï¼‰
**å­¦ä¹ ä¼˜å…ˆçº§**ï¼šğŸ”¥ åŸºç¡€å¿…ä¿® | **å‰ç½®è¦æ±‚**ï¼šå®Œæˆ Day 1-2 æ¶æ„ç†è§£
**ä¾èµ–å…³ç³»**ï¼šéœ€è¦å…ˆç†è§£æ•´ä½“æ¶æ„ï¼Œå†æ·±å…¥ API Server ç»†èŠ‚
**å­¦ä¹ å†…å®¹**ï¼š
- [ ] API Server çš„èŒè´£å’Œå·¥ä½œåŸç†
- [ ] RESTful API è®¾è®¡ç†å¿µ
- [ ] è¯·æ±‚å¤„ç†æµç¨‹ï¼šè®¤è¯ã€æˆæƒã€å‡†å…¥æ§åˆ¶

**è¯¦ç»†å®è·µæ­¥éª¤**ï¼š

**æ­¥éª¤1ï¼šAPI Server ä»£ç†è®¿é—®**
```bash
# 1.1 å¯åŠ¨ kubectl proxyï¼ˆåœ¨æ–°ç»ˆç«¯çª—å£è¿è¡Œï¼‰
kubectl proxy --port=8080

# 1.2 é€šè¿‡ä»£ç†è®¿é—® API Serverï¼ˆåœ¨å¦ä¸€ä¸ªç»ˆç«¯ï¼‰
curl http://localhost:8080/api/v1
curl http://localhost:8080/api/v1/namespaces
curl http://localhost:8080/api/v1/nodes

# 1.3 æ¢ç´¢ API ç‰ˆæœ¬å’Œèµ„æºç»„
curl http://localhost:8080/api
curl http://localhost:8080/apis
```

**æ­¥éª¤2ï¼šç›´æ¥ API è°ƒç”¨å®éªŒ**
```bash
# 2.1 è·å–é›†ç¾¤ API Server åœ°å€
kubectl cluster-info

# 2.2 è·å–è®¿é—®ä»¤ç‰Œ
APISERVER=$(kubectl config view --minify -o jsonpath='{.clusters[0].cluster.server}')
TOKEN=$(kubectl create token default)

# 2.3 ä½¿ç”¨ä»¤ç‰Œç›´æ¥è®¿é—® API Server
curl -X GET $APISERVER/api/v1/namespaces/default/pods \
  --header "Authorization: Bearer $TOKEN" \
  --insecure
```

**æ­¥éª¤3ï¼šAPI æ“ä½œå®éªŒ**
```bash
# 3.1 åˆ›å»ºä¸€ä¸ªç®€å•çš„ Pod YAML
cat > test-pod.yaml <<EOF
apiVersion: v1
kind: Pod
metadata:
  name: test-pod
spec:
  containers:
  - name: nginx
    image: nginx:latest
EOF

# 3.2 ä½¿ç”¨ kubectl apply åˆ›å»º Pod
kubectl apply -f test-pod.yaml

# 3.3 æŸ¥è¯¢åˆ›å»ºçš„ Pod
curl -X GET $APISERVER/api/v1/namespaces/default/pods/test-pod \
  --header "Authorization: Bearer $TOKEN" \
  --insecure
```

**æ­¥éª¤4ï¼šAPI Server æ—¥å¿—åˆ†æ**
```bash
# 4.1 æŸ¥çœ‹ API Server æ—¥å¿—
kubectl logs -n kube-system -l component=kube-apiserver --tail=50

# 4.2 å®æ—¶ç›‘æ§ API Server æ—¥å¿—ï¼ˆåœ¨æ–°ç»ˆç«¯ï¼‰
kubectl logs -n kube-system -l component=kube-apiserver -f

# 4.3 æ‰§è¡Œä¸€äº›æ“ä½œï¼Œè§‚å¯Ÿæ—¥å¿—å˜åŒ–
kubectl get pods
kubectl create deployment nginx --image=nginx
kubectl delete deployment nginx
```

**æ­¥éª¤5ï¼šAPI ç‰ˆæœ¬æ¢ç´¢**
```bash
# 5.1 æŸ¥çœ‹æ‰€æœ‰ API ç‰ˆæœ¬
kubectl api-versions

# 5.2 æŸ¥çœ‹ç‰¹å®šèµ„æºçš„ API ä¿¡æ¯
kubectl explain pod
kubectl explain pod.spec
kubectl explain deployment

# 5.3 æ¯”è¾ƒä¸åŒ API ç‰ˆæœ¬
kubectl explain pod --api-version=v1
```

**æ¸…ç†æ“ä½œ**ï¼š
```bash
kubectl delete pod test-pod
```

**çŸ¥è¯†ç‚¹æ£€æŸ¥**ï¼š
- API Server å¦‚ä½•å¤„ç†ä¸€ä¸ª kubectl è¯·æ±‚ï¼Ÿ
- ä»€ä¹ˆæ˜¯ API ç‰ˆæœ¬æ§åˆ¶ï¼Ÿ
- RESTful API çš„åŸºæœ¬æ“ä½œæœ‰å“ªäº›ï¼Ÿ
- è®¤è¯ã€æˆæƒã€å‡†å…¥æ§åˆ¶çš„æµç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ

#### ğŸ“… Day 5-7: Etcd å­˜å‚¨æœºåˆ¶ï¼ˆ2-3å°æ—¶ï¼‰
**å­¦ä¹ ä¼˜å…ˆçº§**ï¼šğŸŸ¡ è¿›é˜¶é€‰ä¿® | **å‰ç½®è¦æ±‚**ï¼šå®Œæˆ API Server å­¦ä¹ 
**ä¾èµ–å…³ç³»**ï¼šç†è§£ API Server åï¼Œå­¦ä¹ æ•°æ®å¦‚ä½•å­˜å‚¨åœ¨ Etcd ä¸­
**å­¦ä¹ å»ºè®®**ï¼šâš ï¸ å¦‚æœæ—¶é—´ç´§å¼ ï¼Œå¯ä»¥å…ˆè·³è¿‡æ·±å…¥çš„ etcd æ“ä½œï¼Œé‡ç‚¹ç†è§£æ¦‚å¿µ
**å­¦ä¹ å†…å®¹**ï¼š
- [ ] é˜…è¯» [Etcd å®˜æ–¹æ–‡æ¡£](https://etcd.io/docs)
- [ ] ç†è§£åˆ†å¸ƒå¼ä¸€è‡´æ€§ç®—æ³•ï¼ˆRaftï¼‰
- [ ] Kubernetes å¦‚ä½•ä½¿ç”¨ Etcd

**è¯¦ç»†å®è·µæ­¥éª¤**ï¼š

**æ­¥éª¤1ï¼šEtcd çŠ¶æ€æ¢ç´¢**
```bash
# 1.1 æŸ¥çœ‹ etcd Pod çŠ¶æ€
kubectl get pods -n kube-system -l component=etcd

# 1.2 æŸ¥çœ‹ etcd é…ç½®
kubectl describe pod -n kube-system <etcd-pod-name>

# 1.3 æŸ¥çœ‹ etcd æ—¥å¿—
kubectl logs -n kube-system <etcd-pod-name> --tail=20
```

**æ­¥éª¤2ï¼šé€šè¿‡ API Server æŸ¥çœ‹ Etcd æ•°æ®**
```bash
# 2.1 æŸ¥çœ‹ namespace åœ¨ etcd ä¸­çš„å­˜å‚¨
kubectl get --raw /api/v1/namespaces | jq .

# 2.2 æŸ¥çœ‹ pods åœ¨ etcd ä¸­çš„å­˜å‚¨
kubectl get --raw /api/v1/pods | jq .

# 2.3 æŸ¥çœ‹ configmaps å­˜å‚¨
kubectl get --raw /api/v1/namespaces/kube-system/configmaps | jq .

# 2.4 æŸ¥çœ‹ç‰¹å®šèµ„æºçš„å­˜å‚¨ç»“æ„
kubectl get --raw /api/v1/namespaces/default | jq .
```

**æ­¥éª¤3ï¼šæ•°æ®å˜åŒ–è§‚å¯Ÿå®éªŒ**
```bash
# 3.1 åˆ›å»ºä¸€ä¸ª namespace å¹¶è§‚å¯Ÿ
kubectl create namespace test-etcd
kubectl get --raw /api/v1/namespaces/test-etcd | jq .

# 3.2 åœ¨ namespace ä¸­åˆ›å»ºèµ„æº
kubectl create configmap test-config --from-literal=key1=value1 -n test-etcd
kubectl get --raw /api/v1/namespaces/test-etcd/configmaps/test-config | jq .

# 3.3 ä¿®æ”¹èµ„æºå¹¶è§‚å¯Ÿå˜åŒ–
kubectl patch configmap test-config -n test-etcd -p '{"data":{"key2":"value2"}}'
kubectl get --raw /api/v1/namespaces/test-etcd/configmaps/test-config | jq .

# 3.4 åˆ é™¤èµ„æº
kubectl delete namespace test-etcd
```

**æ­¥éª¤4ï¼šå¤‡ä»½æ¢å¤ç†è§£**
```bash
# 4.1 æŸ¥çœ‹ etcd çš„æ•°æ®ç›®å½•é…ç½®
kubectl get pod -n kube-system <etcd-pod-name> -o yaml | grep -A 5 -B 5 data-dir

# 4.2 äº†è§£å¤‡ä»½å‘½ä»¤ï¼ˆä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒæ‰§è¡Œï¼‰
echo "å¤‡ä»½å‘½ä»¤ç¤ºä¾‹ï¼š"
echo "etcdctl snapshot save backup.db"

# 4.3 æŸ¥çœ‹ etcd é›†ç¾¤å¥åº·çŠ¶æ€ï¼ˆå¦‚æœå¯ä»¥è®¿é—®ï¼‰
kubectl exec -n kube-system <etcd-pod-name> -- etcdctl endpoint health --endpoints=127.0.0.1:2379 --insecure-skip-tls-verify
```

**çŸ¥è¯†ç‚¹æ£€æŸ¥**ï¼š
- Etcd è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ
- Kubernetes åœ¨ Etcd ä¸­å­˜å‚¨äº†ä»€ä¹ˆæ•°æ®ï¼Ÿ
- æ•°æ®åœ¨ etcd ä¸­æ˜¯å¦‚ä½•ç»„ç»‡çš„ï¼Ÿ
- ä¸ºä»€ä¹ˆ etcd ä½¿ç”¨ Raft ç®—æ³•ï¼Ÿ

---

### ç¬¬2å‘¨ï¼šæ§åˆ¶å™¨å’Œè°ƒåº¦å™¨æ·±å…¥ï¼ˆ8-10å°æ—¶ï¼‰
**å­¦ä¹ ä¸»çº¿**ï¼šä»æ§åˆ¶ç†å¿µåˆ°è°ƒåº¦å®ç°ï¼Œå…ˆæ§åˆ¶å™¨ â†’ è°ƒåº¦å™¨ â†’ æ•´ä½“æµç¨‹

#### ğŸ“… Day 1-3: Controller Manager æ ¸å¿ƒç†å¿µï¼ˆ4-5å°æ—¶ï¼‰
**å­¦ä¹ ä¼˜å…ˆçº§**ï¼šğŸ”¥ æ ¸å¿ƒå¿…ä¿® | **å‰ç½®è¦æ±‚**ï¼šå®Œæˆç¬¬1å‘¨ API Server å­¦ä¹ 
**ä¾èµ–å…³ç³»**ï¼šéœ€è¦å…ˆç†è§£ API Serverï¼Œæ‰èƒ½ç†è§£æ§åˆ¶å™¨å¦‚ä½•ä¸ä¹‹äº¤äº’
**å­¦ä¹ å»ºè®®**ï¼šâœ… è¿™æ˜¯ç†è§£ Kubernetes è‡ªåŠ¨åŒ–çš„å…³é”®ï¼ŒåŠ¡å¿…æŒæ¡
**å­¦ä¹ å†…å®¹**ï¼š
- [ ] æ§åˆ¶å™¨æ¨¡å¼ï¼ˆController Patternï¼‰
- [ ] List-Watch æœºåˆ¶åŸç†
- [ ] å¸¸è§æ§åˆ¶å™¨ç±»å‹ï¼šDeploymentã€ReplicaSetã€Service ç­‰

**è¯¦ç»†å®è·µæ­¥éª¤**ï¼š

**æ­¥éª¤1ï¼šæ§åˆ¶å™¨è¿è¡ŒçŠ¶æ€åˆ†æ**
```bash
# 1.1 æŸ¥çœ‹ Controller Manager çŠ¶æ€
kubectl get pods -n kube-system -l component=kube-controller-manager

# 1.2 æŸ¥çœ‹ Controller Manager æ—¥å¿—
kubectl logs -n kube-system -l component=kube-controller-manager --tail=50

# 1.3 æŸ¥çœ‹æ§åˆ¶å™¨é…ç½®
kubectl describe pod -n kube-system <controller-manager-pod>
```

**æ­¥éª¤2ï¼šDeployment æ§åˆ¶å™¨å®éªŒ**
```bash
# 2.1 åˆ›å»º Deployment å¹¶å®æ—¶è§‚å¯Ÿ
kubectl create deployment nginx-test --image=nginx:latest --replicas=3

# 2.2 åœ¨å¦ä¸€ä¸ªç»ˆç«¯å®æ—¶ç›‘æ§äº‹ä»¶
kubectl get events --watch &

# 2.3 è§‚å¯Ÿèµ„æºåˆ›å»ºè¿‡ç¨‹
kubectl get deployments,replicasets,pods -l app=nginx-test --watch

# 2.4 æŸ¥çœ‹èµ„æºçš„ owner references
kubectl get replicaset -l app=nginx-test -o yaml | grep -A 5 ownerReferences
kubectl get pods -l app=nginx-test -o yaml | grep -A 5 ownerReferences
```

**æ­¥éª¤3ï¼šæ§åˆ¶å™¨è‡ªæ„ˆèƒ½åŠ›æµ‹è¯•**
```bash
# 3.1 åˆ é™¤å•ä¸ª Podï¼Œè§‚å¯Ÿæ¢å¤è¿‡ç¨‹
POD_NAME=$(kubectl get pods -l app=nginx-test -o jsonpath='{.items[0].metadata.name}')
kubectl delete pod $POD_NAME

# 3.2 è§‚å¯Ÿæ–° Pod åˆ›å»ºè¿‡ç¨‹
kubectl get pods -l app=nginx-test --watch

# 3.3 æŸ¥çœ‹ç›¸å…³äº‹ä»¶
kubectl get events --field-selector reason=Created,reason=Started --sort-by='.lastTimestamp'

# 3.4 åˆ é™¤ ReplicaSetï¼Œè§‚å¯Ÿæ¢å¤
RS_NAME=$(kubectl get rs -l app=nginx-test -o jsonpath='{.items[0].metadata.name}')
kubectl delete rs $RS_NAME
kubectl get rs,pods -l app=nginx-test --watch
```

**æ­¥éª¤4ï¼šæ‰©ç¼©å®¹æ§åˆ¶å™¨è¡Œä¸ºè§‚å¯Ÿ**
```bash
# 4.1 æ‰©å®¹æ“ä½œ
kubectl scale deployment nginx-test --replicas=5
kubectl get pods -l app=nginx-test --watch

# 4.2 ç¼©å®¹æ“ä½œ
kubectl scale deployment nginx-test --replicas=2
kubectl get pods -l app=nginx-test --watch

# 4.3 æŸ¥çœ‹æ‰©ç¼©å®¹äº‹ä»¶
kubectl describe deployment nginx-test
```

**æ¸…ç†æ“ä½œ**ï¼š
```bash
kubectl delete deployment nginx-test
```

**çŸ¥è¯†ç‚¹æ£€æŸ¥**ï¼š
- ä»€ä¹ˆæ˜¯å£°æ˜å¼ APIï¼Ÿ
- List-Watch å¦‚ä½•å®ç°å®æ—¶åŒæ­¥ï¼Ÿ
- æ§åˆ¶å¾ªç¯çš„å·¥ä½œåŸç†ï¼Ÿ
- OwnerReferences çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ

#### ğŸ“… Day 4-5: Scheduler è°ƒåº¦æœºåˆ¶ï¼ˆ3-4å°æ—¶ï¼‰
**å­¦ä¹ ä¼˜å…ˆçº§**ï¼šğŸ”¥ æ ¸å¿ƒå¿…ä¿® | **å‰ç½®è¦æ±‚**ï¼šå®Œæˆ Controller Manager å­¦ä¹ 
**ä¾èµ–å…³ç³»**ï¼šç†è§£æ§åˆ¶å™¨åˆ›å»º Pod åï¼Œå­¦ä¹ è°ƒåº¦å™¨å¦‚ä½•åˆ†é… Pod åˆ°èŠ‚ç‚¹
**å­¦ä¹ å»ºè®®**ï¼šâœ… ä¸æ§åˆ¶å™¨é…åˆï¼Œå½¢æˆå®Œæ•´çš„ Pod åˆ›å»ºæµç¨‹ç†è§£
**å­¦ä¹ å†…å®¹**ï¼š
- [ ] é˜…è¯»ï¼š[Kubernetes Scheduler](https://kubernetes.io/docs/concepts/scheduling/kube-scheduler/)
- [ ] è°ƒåº¦ç®—æ³•ï¼šé¢„é€‰ï¼ˆPredicateï¼‰å’Œä¼˜é€‰ï¼ˆPriorityï¼‰
- [ ] èµ„æºè¯·æ±‚å’Œé™åˆ¶å¯¹è°ƒåº¦çš„å½±å“

**è¯¦ç»†å®è·µæ­¥éª¤**ï¼š

**æ­¥éª¤1ï¼šè°ƒåº¦å™¨çŠ¶æ€åˆ†æ**
```bash
# 1.1 æŸ¥çœ‹è°ƒåº¦å™¨ Pod çŠ¶æ€
kubectl get pods -n kube-system -l component=kube-scheduler

# 1.2 æŸ¥çœ‹è°ƒåº¦å™¨æ—¥å¿—
kubectl logs -n kube-system -l component=kube-scheduler --tail=50

# 1.3 æŸ¥çœ‹è°ƒåº¦å™¨é…ç½®
kubectl describe pod -n kube-system <scheduler-pod-name>
```

**æ­¥éª¤2ï¼šåŸºæœ¬è°ƒåº¦å®éªŒ**
```bash
# 2.1 åˆ›å»ºç®€å•çš„ Pod è§‚å¯Ÿè°ƒåº¦è¿‡ç¨‹
kubectl run simple-pod --image=nginx:latest

# 2.2 å®æ—¶ç›‘æ§è°ƒåº¦äº‹ä»¶
kubectl get events --watch | grep -i schedul &

# 2.3 æŸ¥çœ‹ Pod è°ƒåº¦ç»“æœ
kubectl get pod simple-pod -o wide
kubectl describe pod simple-pod

# 2.4 æŸ¥çœ‹èŠ‚ç‚¹èµ„æºæƒ…å†µ
kubectl describe nodes
kubectl top nodes
```

**æ­¥éª¤3ï¼šèµ„æºè¯·æ±‚è°ƒåº¦å®éªŒ**
```bash
# 3.1 åˆ›å»ºæœ‰èµ„æºè¯·æ±‚çš„ Pod
kubectl apply -f - <<EOF
apiVersion: v1
kind: Pod
metadata:
  name: resource-pod
spec:
  containers:
  - name: nginx
    image: nginx:latest
    resources:
      requests:
        cpu: "0.5"
        memory: "256Mi"
      limits:
        cpu: "1"
        memory: "512Mi"
EOF

# 3.2 è§‚å¯Ÿè°ƒåº¦è¿‡ç¨‹
kubectl describe pod resource-pod
kubectl get events --field-selector involvedObject.name=resource-pod

# 3.3 æŸ¥çœ‹èŠ‚ç‚¹èµ„æºåˆ†é…æƒ…å†µ
kubectl describe nodes | grep -A 5 "Allocated resources"
```

**æ­¥éª¤4ï¼šè°ƒåº¦çº¦æŸå®éªŒ**
```bash
# 4.1 åˆ›å»ºä¸å¯è°ƒåº¦çš„ Podï¼ˆèµ„æºè¿‡å¤§ï¼‰
kubectl apply -f - <<EOF
apiVersion: v1
kind: Pod
metadata:
  name: large-resource-pod
spec:
  containers:
  - name: nginx
    image: nginx:latest
    resources:
      requests:
        cpu: "10"
        memory: "50Gi"
EOF

# 4.2 æŸ¥çœ‹è°ƒåº¦å¤±è´¥çš„åŸå› 
kubectl describe pod large-resource-pod
kubectl get events --field-selector involvedObject.name=large-resource-pod
```

**æ­¥éª¤5ï¼šè°ƒåº¦æ•…éšœæ’æŸ¥**
```bash
# 5.1 åˆ›å»ºä¸€ä¸ªæ— æ³•è°ƒåº¦çš„ Pod
kubectl apply -f - <<EOF
apiVersion: v1
kind: Pod
metadata:
  name: unschedulable-pod
spec:
  nodeSelector:
    nonexistent-label: "true"
  containers:
  - name: nginx
    image: nginx:latest
EOF

# 5.2 åˆ†æè°ƒåº¦å¤±è´¥åŸå› 
kubectl describe pod unschedulable-pod
kubectl get events --sort-by='.lastTimestamp' | tail -10
```

**æ¸…ç†æ“ä½œ**ï¼š
```bash
kubectl delete pod simple-pod resource-pod large-resource-pod unschedulable-pod
```

**çŸ¥è¯†ç‚¹æ£€æŸ¥**ï¼š
- Pod è°ƒåº¦çš„å®Œæ•´æµç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ
- è°ƒåº¦å™¨å¦‚ä½•å¤„ç†èµ„æºçº¦æŸï¼Ÿ
- ä»€ä¹ˆæ˜¯é¢„é€‰ï¼ˆFilteringï¼‰å’Œä¼˜é€‰ï¼ˆScoringï¼‰ï¼Ÿ
- è°ƒåº¦å¤±è´¥çš„å¸¸è§åŸå› æœ‰å“ªäº›ï¼Ÿ

#### ğŸ“… Day 6-7: æ·±åº¦é˜…è¯»å’Œæ•´ä½“ä¸²è”ï¼ˆ1-2å°æ—¶ï¼‰
**å­¦ä¹ ä¼˜å…ˆçº§**ï¼šâ­ ç»¼åˆæå‡ | **å‰ç½®è¦æ±‚**ï¼šå®Œæˆæ§åˆ¶å™¨å’Œè°ƒåº¦å™¨å­¦ä¹ 
**ä¾èµ–å…³ç³»**ï¼šéœ€è¦å‰é¢æ‰€æœ‰ç»„ä»¶çŸ¥è¯†ï¼Œè¿›è¡Œæ•´ä½“æµç¨‹ä¸²è”
**å­¦ä¹ å»ºè®®**ï¼šğŸ¯ è¿™æ˜¯ç¬¬2å‘¨çš„æ€»ç»“ï¼ŒåŠ¡å¿…å®Œæˆä»¥æ£€éªŒå­¦ä¹ æ•ˆæœ
**å­¦ä¹ å†…å®¹**ï¼š
- [ ] é˜…è¯»ï¼š[What happens when I type kubectl run?](https://github.com/jamiehannaford/what-happens-when-k8s)
- [ ] ä¸­æ–‡ç‰ˆï¼š[kubectl åˆ›å»º Pod èƒŒååˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ](https://mp.weixin.qq.com/s/ctdvbasKE-vpLRxDJjwVMw)

**è¯¦ç»†å®è·µæ­¥éª¤**ï¼š
```bash
# ç»¼åˆå®è·µï¼šè¿½è¸ªå®Œæ•´çš„ Pod åˆ›å»ºæµç¨‹
# 1. åœ¨å¤šä¸ªç»ˆç«¯åŒæ—¶ç›‘æ§
kubectl get events --watch &
kubectl logs -n kube-system -l component=kube-scheduler -f &
kubectl logs -n kube-system -l component=kube-controller-manager -f &

# 2. åˆ›å»º Pod å¹¶è§‚å¯Ÿæ•´ä¸ªæµç¨‹
kubectl run trace-pod --image=nginx:latest

# 3. åˆ†ææ—¶åºå’Œç»„ä»¶äº¤äº’
kubectl describe pod trace-pod
kubectl get events --sort-by='.lastTimestamp' | grep trace-pod

# æ¸…ç†
kubectl delete pod trace-pod
```

---

### ç¬¬3å‘¨ï¼šNode ç»„ä»¶å’Œç½‘ç»œï¼ˆ8-10å°æ—¶ï¼‰
**å­¦ä¹ ä¸»çº¿**ï¼šä» Control Plane è½¬å‘ Nodeï¼Œå…ˆ Kubelet â†’ å®¹å™¨è¿è¡Œæ—¶ â†’ ç½‘ç»œç»„ä»¶

#### ğŸ“… Day 1-3: Kubelet æ·±å…¥ç†è§£ï¼ˆ4-5å°æ—¶ï¼‰
**å­¦ä¹ ä¼˜å…ˆçº§**ï¼šğŸ”¥ æ ¸å¿ƒå¿…ä¿® | **å‰ç½®è¦æ±‚**ï¼šå®Œæˆç¬¬2å‘¨è°ƒåº¦å™¨å­¦ä¹ 
**ä¾èµ–å…³ç³»**ï¼šç†è§£è°ƒåº¦å™¨åˆ†é… Pod åï¼Œå­¦ä¹  Kubelet å¦‚ä½•åœ¨èŠ‚ç‚¹ä¸Šè¿è¡Œ Pod
**å­¦ä¹ å»ºè®®**ï¼šâœ… è¿™æ˜¯ç†è§£ Pod å®é™…è¿è¡Œçš„å…³é”®ç»„ä»¶
**å­¦ä¹ å†…å®¹**ï¼š
- [ ] Kubelet çš„èŒè´£å’Œå·¥ä½œæœºåˆ¶
- [ ] Pod ç”Ÿå‘½å‘¨æœŸç®¡ç†
- [ ] å®¹å™¨è¿è¡Œæ—¶æ¥å£ï¼ˆCRIï¼‰

**è¯¦ç»†å®è·µæ­¥éª¤**ï¼š

**æ­¥éª¤1ï¼šKubelet çŠ¶æ€åˆ†æ**
```bash
# 1.1 è¿›å…¥èŠ‚ç‚¹æŸ¥çœ‹ Kubelet è¿›ç¨‹
minikube ssh
ps aux | grep kubelet

# 1.2 æŸ¥çœ‹ Kubelet é…ç½®
minikube ssh
sudo cat /var/lib/kubelet/config.yaml

# 1.3 æŸ¥çœ‹ Kubelet æ—¥å¿—
minikube ssh
sudo journalctl -u kubelet --no-pager --lines=50
```

**æ­¥éª¤2ï¼šPod ç”Ÿå‘½å‘¨æœŸå®éªŒ**
```bash
# 2.1 åˆ›å»ºå¸¦æœ‰ç”Ÿå‘½å‘¨æœŸé’©å­çš„ Pod
kubectl apply -f - <<EOF
apiVersion: v1
kind: Pod
metadata:
  name: lifecycle-pod
spec:
  containers:
  - name: nginx
    image: nginx:latest
    lifecycle:
      postStart:
        exec:
          command: ["/bin/sh", "-c", "echo 'PostStart executed' > /tmp/lifecycle.log"]
      preStop:
        exec:
          command: ["/bin/sh", "-c", "echo 'PreStop executed' >> /tmp/lifecycle.log; sleep 10"]
EOF

# 2.2 ç›‘æ§ Pod å¯åŠ¨è¿‡ç¨‹
kubectl get pod lifecycle-pod --watch

# 2.3 æŸ¥çœ‹ç”Ÿå‘½å‘¨æœŸäº‹ä»¶
kubectl describe pod lifecycle-pod
kubectl exec lifecycle-pod -- cat /tmp/lifecycle.log

# 2.4 åˆ é™¤ Pod è§‚å¯Ÿåœæ­¢è¿‡ç¨‹
kubectl delete pod lifecycle-pod --grace-period=30
```

**æ­¥éª¤3ï¼šå®¹å™¨è¿è¡Œæ—¶æ¢ç´¢**
```bash
# 3.1 æŸ¥çœ‹èŠ‚ç‚¹ä¸Šçš„å®¹å™¨
minikube ssh
sudo docker ps | head -10

# 3.2 æŸ¥çœ‹å…·ä½“å®¹å™¨ä¿¡æ¯
CONTAINER_ID=$(sudo docker ps | grep nginx | awk '{print $1}' | head -1)
sudo docker inspect $CONTAINER_ID | head -20
```

**çŸ¥è¯†ç‚¹æ£€æŸ¥**ï¼š
- Kubelet å¦‚ä½•ä¸ API Server é€šä¿¡ï¼Ÿ
- Pod åœ¨èŠ‚ç‚¹ä¸Šçš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸï¼Ÿ
- å®¹å™¨è¿è¡Œæ—¶æ¥å£çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ

#### ğŸ“… Day 4-5: Container Runtime æ¢ç´¢ï¼ˆ2-3å°æ—¶ï¼‰
**å­¦ä¹ ä¼˜å…ˆçº§**ï¼šğŸŸ¡ æ·±å…¥ç†è§£ | **å‰ç½®è¦æ±‚**ï¼šå®Œæˆ Kubelet å­¦ä¹ 
**ä¾èµ–å…³ç³»**ï¼šKubelet é€šè¿‡ CRI ä¸å®¹å™¨è¿è¡Œæ—¶äº¤äº’ï¼Œå…ˆå­¦ Kubelet å†å­¦è¿è¡Œæ—¶
**å­¦ä¹ å»ºè®®**ï¼šğŸ’¡ ååº•å±‚ï¼Œå¦‚æœæ—¶é—´ç´§å¼ å¯ä»¥ç®€åŒ–ï¼Œé‡ç‚¹ç†è§£ CRI æ¥å£
**å­¦ä¹ å†…å®¹**ï¼š
- [ ] Dockerã€Containerdã€CRI-O å¯¹æ¯”
- [ ] å®¹å™¨é•œåƒç®¡ç†
- [ ] å®¹å™¨ç½‘ç»œåŸºç¡€

**å®è·µä»»åŠ¡**ï¼š
- [ ] ä½¿ç”¨ `docker ps` æˆ– `crictl ps` æŸ¥çœ‹å®¹å™¨
- [ ] ç†è§£é•œåƒæ‹‰å–è¿‡ç¨‹
- [ ] è§‚å¯Ÿå®¹å™¨æ—¥å¿—å’Œèµ„æºä½¿ç”¨

#### ğŸ“… Day 6-7: Kube-proxy å’Œç½‘ç»œï¼ˆ2-3å°æ—¶ï¼‰
**å­¦ä¹ ä¼˜å…ˆçº§**ï¼šğŸ”¥ æ ¸å¿ƒå¿…ä¿® | **å‰ç½®è¦æ±‚**ï¼šå®Œæˆå‰é¢ Node ç»„ä»¶å­¦ä¹ 
**ä¾èµ–å…³ç³»**ï¼šç†è§£ Pod å¦‚ä½•è¿è¡Œåï¼Œå­¦ä¹  Pod é—´å¦‚ä½•é€šä¿¡
**å­¦ä¹ å»ºè®®**ï¼šâœ… ç½‘ç»œæ˜¯é›†ç¾¤çš„è¡€è„‰ï¼Œå¿…é¡»ç†è§£åŸºæœ¬åŸç†
**å­¦ä¹ å†…å®¹**ï¼š
- [ ] Service çš„å®ç°åŸç†
- [ ] iptables å’Œ IPVS æ¨¡å¼
- [ ] ç½‘ç»œæ’ä»¶ï¼ˆCNIï¼‰åŸºç¡€

**å®è·µä»»åŠ¡**ï¼š
- [ ] åˆ›å»º Serviceï¼ŒæŸ¥çœ‹ iptables è§„åˆ™
- [ ] ç†è§£ ClusterIPã€NodePortã€LoadBalancer

---

### ç¬¬4å‘¨ï¼šæ ¸å¿ƒæ’ä»¶å’Œå®æˆ˜ï¼ˆ8-10å°æ—¶ï¼‰
**å­¦ä¹ ä¸»çº¿**ï¼šä»åŸºç¡€è®¾æ–½åˆ°ç»¼åˆå®è·µï¼Œå…ˆ DNS â†’ ç½‘ç»œæ’ä»¶ â†’ æ‰‹åŠ¨éƒ¨ç½²å®æˆ˜

#### ğŸ“… Day 1-2: DNS æœåŠ¡å‘ç°ï¼ˆ3-4å°æ—¶ï¼‰
**å­¦ä¹ ä¼˜å…ˆçº§**ï¼šğŸ”¥ æ ¸å¿ƒå¿…ä¿® | **å‰ç½®è¦æ±‚**ï¼šå®Œæˆç¬¬3å‘¨ç½‘ç»œåŸºç¡€
**ä¾èµ–å…³ç³»**ï¼šç†è§£ç½‘ç»œé€šä¿¡åï¼Œå­¦ä¹ æœåŠ¡å‘ç°æœºåˆ¶
**å­¦ä¹ å»ºè®®**ï¼šâœ… DNS æ˜¯å¾®æœåŠ¡æ¶æ„çš„åŸºç¡€ï¼ŒåŠ¡å¿…æŒæ¡
**å­¦ä¹ å†…å®¹**ï¼š
- [ ] CoreDNS é…ç½®å’Œå·¥ä½œåŸç†
- [ ] Kubernetes ä¸­çš„ DNS è§£æ
- [ ] Service Discovery æœºåˆ¶

**å®è·µä»»åŠ¡**ï¼š
- [ ] æµ‹è¯• Pod é—´çš„ DNS è§£æ
- [ ] æŸ¥çœ‹ CoreDNS é…ç½®
- [ ] åˆ›å»ºè‡ªå®šä¹‰ DNS è®°å½•

#### ğŸ“… Day 3-4: ç½‘ç»œæ’ä»¶ç†è§£ï¼ˆ3-4å°æ—¶ï¼‰
**å­¦ä¹ ä¼˜å…ˆçº§**ï¼šğŸŸ¡ æ·±å…¥ç†è§£ | **å‰ç½®è¦æ±‚**ï¼šå®Œæˆ DNS å­¦ä¹ 
**ä¾èµ–å…³ç³»**ï¼šDNS ä¾èµ–äºç½‘ç»œæ’ä»¶æä¾›çš„ç½‘ç»œè¿é€šæ€§
**å­¦ä¹ å»ºè®®**ï¼šğŸ’¡ ç½‘ç»œæ’ä»¶ååº•å±‚ï¼Œé‡ç‚¹ç†è§£ CNI æ¦‚å¿µå’Œ Flannel åŸºæœ¬åŸç†
**å­¦ä¹ å†…å®¹**ï¼š
- [ ] CNI æ’ä»¶æ¶æ„
- [ ] Flannel å·¥ä½œåŸç†
- [ ] Pod ç½‘ç»œé€šä¿¡æœºåˆ¶

**å®è·µä»»åŠ¡**ï¼š
- [ ] æŸ¥çœ‹ç½‘ç»œæ’ä»¶é…ç½®
- [ ] æµ‹è¯•è·¨èŠ‚ç‚¹ Pod é€šä¿¡
- [ ] ç†è§£ç½‘ç»œç­–ç•¥åŸºç¡€

#### ğŸ“… Day 5-7: ç»¼åˆå®è·µ - æ‰‹åŠ¨éƒ¨ç½²é›†ç¾¤ï¼ˆ2-3å°æ—¶ï¼‰
**å­¦ä¹ ä¼˜å…ˆçº§**ï¼šâ­ ç»¼åˆåº”ç”¨ | **å‰ç½®è¦æ±‚**ï¼šå®Œæˆå‰é¢æ‰€æœ‰æ ¸å¿ƒç»„ä»¶å­¦ä¹ 
**ä¾èµ–å…³ç³»**ï¼šéœ€è¦å‰é¢æ‰€æœ‰çŸ¥è¯†ï¼Œè¿›è¡Œç»¼åˆå®è·µéªŒè¯
**å­¦ä¹ å»ºè®®**ï¼šğŸ¯ è¿™æ˜¯ç¬¬1-4å‘¨å­¦ä¹ çš„ç»¼åˆæ£€éªŒï¼Œå¼ºçƒˆå»ºè®®å®Œæˆ
**å®è·µä»»åŠ¡**ï¼š
- [ ] å®Œæˆ [lab3-manual-installation](../tutorials/lab3-manual-installtion.md)
- [ ] å°è¯•æ‰‹åŠ¨å®‰è£… Kubernetes ç»„ä»¶
- [ ] æ’æŸ¥å’Œè§£å†³å®‰è£…è¿‡ç¨‹ä¸­çš„é—®é¢˜

---

### ç¬¬5-6å‘¨ï¼šæ·±åŒ–ç†è§£å’Œé«˜çº§å®æˆ˜ï¼ˆ8-16å°æ—¶ï¼‰
**å­¦ä¹ ä¸»çº¿**ï¼šä»ç†è®ºåˆ°å®æˆ˜ï¼Œå…ˆç»„ä»¶äº¤äº’åˆ†æ â†’ æ•…éšœæ’æŸ¥ â†’ æ€§èƒ½ä¼˜åŒ–

#### ğŸ¯ å­¦ä¹ è·¯å¾„è¯´æ˜
**å‰ç½®è¦æ±‚**ï¼šâœ… å¿…é¡»å®Œæˆå‰4å‘¨çš„æ ¸å¿ƒå­¦ä¹ 
**å­¦ä¹ å»ºè®®**ï¼šè¿™æ˜¯é«˜çº§é˜¶æ®µï¼Œå»ºè®®æ ¹æ®ä¸ªäººæ—¶é—´å’Œå…´è¶£é€‰æ‹©é‡ç‚¹é¡¹ç›®

#### ğŸ“… Week 5 Day 1-3: ç»„ä»¶äº¤äº’æ·±åº¦åˆ†æï¼ˆ4-6å°æ—¶ï¼‰
**å­¦ä¹ ä¼˜å…ˆçº§**ï¼šâ­ ç»¼åˆæå‡ | **å‰ç½®è¦æ±‚**ï¼šå®Œæˆæ‰€æœ‰æ ¸å¿ƒç»„ä»¶å­¦ä¹ 
**ä¾èµ–å…³ç³»**ï¼šéœ€è¦å¯¹æ‰€æœ‰ç»„ä»¶æœ‰æ·±å…¥ç†è§£ï¼Œæ‰èƒ½åˆ†æç»„ä»¶é—´äº¤äº’
**å®è·µç›®æ ‡**ï¼š
- [ ] è¿½è¸ªä¸€ä¸ª Pod ä»åˆ›å»ºåˆ°è¿è¡Œçš„å®Œæ•´æµç¨‹
- [ ] åˆ†æå„ç»„ä»¶çš„æ—¥å¿—å’Œäº‹ä»¶
- [ ] ç»˜åˆ¶è¯¦ç»†çš„äº¤äº’æ—¶åºå›¾

#### ğŸ“… Week 5 Day 4-7: æ•…éšœæ’æŸ¥æŠ€èƒ½è®­ç»ƒï¼ˆ4-6å°æ—¶ï¼‰
**å­¦ä¹ ä¼˜å…ˆçº§**ï¼šğŸ”¥ å®ç”¨æŠ€èƒ½ | **å‰ç½®è¦æ±‚**ï¼šå®Œæˆç»„ä»¶äº¤äº’åˆ†æ
**ä¾èµ–å…³ç³»**ï¼šåŸºäºå¯¹æ­£å¸¸æµç¨‹çš„ç†è§£ï¼Œå­¦ä¹ å¼‚å¸¸æƒ…å†µçš„å¤„ç†

**å®è·µç›®æ ‡**ï¼š
- [ ] æ¨¡æ‹Ÿç»„ä»¶æ•…éšœ
- [ ] ç»ƒä¹ æ—¥å¿—åˆ†æå’Œé—®é¢˜å®šä½
- [ ] å­¦ä¹ å¸¸è§é—®é¢˜çš„è§£å†³æ–¹æ³•

#### ğŸ“… Week 6 Day 1-3: æ€§èƒ½ç›‘æ§å’Œä¼˜åŒ–ï¼ˆ2-4å°æ—¶ï¼‰
**å­¦ä¹ ä¼˜å…ˆçº§**ï¼šğŸŸ¡ è¿›é˜¶æå‡ | **å‰ç½®è¦æ±‚**ï¼šå®Œæˆæ•…éšœæ’æŸ¥å­¦ä¹ 
**ä¾èµ–å…³ç³»**ï¼šåœ¨ç†è§£æ­£å¸¸å’Œå¼‚å¸¸æƒ…å†µåï¼Œå­¦ä¹ æ€§èƒ½ä¼˜åŒ–

**å®è·µç›®æ ‡**ï¼š
- [ ] ä½¿ç”¨ `kubectl top` ç›‘æ§èµ„æºä½¿ç”¨
- [ ] ç†è§£èµ„æºé…é¢å’Œé™åˆ¶
- [ ] å­¦ä¹ é›†ç¾¤æ€§èƒ½è°ƒä¼˜åŸºç¡€

## ğŸ“š æ¨èå­¦ä¹ èµ„æº

### å¿…è¯»æ–‡æ¡£
- [ ] [Kubernetes å®˜æ–¹æ¶æ„æ–‡æ¡£](https://kubernetes.io/docs/concepts/architecture/)
- [ ] [Kubernetes æŒ‡å— - feisky](https://kubernetes.feisky.xyz/concepts/index)
- [ ] [Etcd å®˜æ–¹æ–‡æ¡£](https://etcd.io/docs)

### å®è·µå·¥å…·
- [ ] `kubectl` å‘½ä»¤è¡Œå·¥å…·
- [ ] `minikube` æˆ– `kind` æœ¬åœ°ç¯å¢ƒ
- [ ] æ—¥å¿—æŸ¥çœ‹å’Œç›‘æ§å·¥å…·

### æ‰©å±•é˜…è¯»
- [ ] ã€ŠKubernetes in Actionã€‹ç›¸å…³ç« èŠ‚
- [ ] å®˜æ–¹ Blog ä¸­çš„æ¶æ„æ–‡ç« 
- [ ] CNCF ç›¸å…³æŠ€æœ¯åˆ†äº«

## âœ… é˜¶æ®µæ£€æŸ¥æ¸…å•

### ç†è®ºç†è§£æ£€æŸ¥
- [ ] èƒ½ç”»å‡º Kubernetes å®Œæ•´æ¶æ„å›¾
- [ ] èƒ½è§£é‡Š Pod åˆ›å»ºçš„å®Œæ•´æµç¨‹
- [ ] ç†è§£æ§åˆ¶å™¨æ¨¡å¼å’Œå£°æ˜å¼ API
- [ ] æŒæ¡è°ƒåº¦å™¨çš„å·¥ä½œåŸç†
- [ ] äº†è§£ç½‘ç»œå’Œå­˜å‚¨çš„åŸºæœ¬åŸç†

### å®è·µæŠ€èƒ½æ£€æŸ¥
- [ ] èƒ½å¤ŸæŸ¥çœ‹å’Œåˆ†æå„ç»„ä»¶æ—¥å¿—
- [ ] èƒ½å¤Ÿä½¿ç”¨ kubectl è¿›è¡Œé›†ç¾¤è¯Šæ–­
- [ ] èƒ½å¤Ÿè§£é‡Šé›†ç¾¤ä¸­å‘ç”Ÿçš„äº‹ä»¶
- [ ] å…·å¤‡åŸºæœ¬çš„æ•…éšœæ’æŸ¥èƒ½åŠ›

### æ ¸å¿ƒé—®é¢˜å›ç­”
åœ¨å®Œæˆæœ¬é˜¶æ®µå­¦ä¹ åï¼Œä½ åº”è¯¥èƒ½å¤Ÿå›ç­”ï¼š
1. **Kubernetes ç»„ä»¶æ˜¯å¦‚ä½•äº¤äº’ï¼Œæ¥å¯åŠ¨å®¹å™¨ï¼Œå¹¶å¯¹å¤–æä¾›æœåŠ¡çš„ï¼Ÿ**
2. **å½“æˆ‘æ‰§è¡Œ `kubectl apply -f deployment.yaml` æ—¶ï¼Œé›†ç¾¤å†…éƒ¨å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ**
3. **Pod è°ƒåº¦å’Œå¯åŠ¨çš„å®Œæ•´æµç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ**
4. **å¦‚ä½•è¯Šæ–­å’Œè§£å†³å¸¸è§çš„é›†ç¾¤é—®é¢˜ï¼Ÿ**

## ğŸ’¡ å­¦ä¹ å»ºè®®

### å­¦ä¹ æ–¹æ³•
1. **ç†è®ºä¸å®è·µç»“åˆ**ï¼šæ¯å­¦å®Œä¸€ä¸ªæ¦‚å¿µï¼Œç«‹å³é€šè¿‡å®éªŒéªŒè¯
2. **ç»˜å›¾è®°å¿†**ï¼šé€šè¿‡ç”»å›¾åŠ æ·±å¯¹æ¶æ„çš„ç†è§£
3. **æ—¥å¿—åˆ†æ**ï¼šå…»æˆæŸ¥çœ‹æ—¥å¿—çš„ä¹ æƒ¯
4. **é—®é¢˜é©±åŠ¨**ï¼šå¸¦ç€é—®é¢˜å»å­¦ä¹ ï¼Œå¯»æ‰¾ç­”æ¡ˆ

### æ—¶é—´åˆ†é…å»ºè®®
- **ç†è®ºå­¦ä¹ **: 40%ï¼ˆé˜…è¯»æ–‡æ¡£ã€åšå®¢ï¼‰
- **å®è·µæ“ä½œ**: 45%ï¼ˆå‘½ä»¤è¡Œå®éªŒã€ç¯å¢ƒæ­å»ºï¼‰
- **æ€»ç»“æ•´ç†**: 15%ï¼ˆç¬”è®°ã€æ€ç»´å¯¼å›¾ï¼‰

### é‡åˆ°å›°éš¾æ—¶
1. æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£å’Œæ—¥å¿—
2. æœç´¢ç›¸å…³é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ
3. åœ¨ç¤¾åŒºè®ºå›æé—®
4. ä¸å…¶ä»–å­¦ä¹ è€…äº¤æµè®¨è®º

è®°ä½ï¼š**ç­‘åŸºæœŸæ˜¯æ¯”è¾ƒå›°éš¾çš„é˜¶æ®µï¼Œè¯·ä¸è¦æ°”é¦ï¼ç†è§£æ¶æ„åŸç†æ˜¯åç»­å­¦ä¹ çš„é‡è¦åŸºç¡€ã€‚** ğŸ’ª

---

## ğŸ“Š å­¦ä¹ è¿›åº¦è·Ÿè¸ªè¡¨

### ç¬¬1å‘¨å®Œæˆæƒ…å†µ
- [ ] **Day 1-2**: Control Plane & Node æ¶æ„ç†è§£
  - [ ] ç¯å¢ƒå‡†å¤‡å’Œé›†ç¾¤ä¿¡æ¯è·å–
  - [ ] ç³»ç»Ÿç»„ä»¶æ¢ç´¢  
  - [ ] ç»„ä»¶é…ç½®å’Œé€šä¿¡åˆ†æ
  - [ ] æ¶æ„å›¾ç»˜åˆ¶
  
- [ ] **Day 3-4**: API Server æ·±å…¥ç†è§£
  - [ ] API Server ä»£ç†è®¿é—®
  - [ ] ç›´æ¥ API è°ƒç”¨å®éªŒ
  - [ ] API æ“ä½œå®éªŒ
  - [ ] API Server æ—¥å¿—åˆ†æ
  - [ ] API ç‰ˆæœ¬æ¢ç´¢
  
- [ ] **Day 5-7**: Etcd å­˜å‚¨æœºåˆ¶
  - [ ] Etcd çŠ¶æ€æ¢ç´¢
  - [ ] é€šè¿‡ API Server æŸ¥çœ‹æ•°æ®
  - [ ] æ•°æ®å˜åŒ–è§‚å¯Ÿå®éªŒ
  - [ ] å¤‡ä»½æ¢å¤ç†è§£

### ç¬¬2å‘¨å®Œæˆæƒ…å†µ
- [ ] **Day 1-3**: Controller Manager æ ¸å¿ƒç†å¿µ
  - [ ] æ§åˆ¶å™¨è¿è¡ŒçŠ¶æ€åˆ†æ
  - [ ] Deployment æ§åˆ¶å™¨å®éªŒ
  - [ ] æ§åˆ¶å™¨è‡ªæ„ˆèƒ½åŠ›æµ‹è¯•
  - [ ] æ‰©ç¼©å®¹è¡Œä¸ºè§‚å¯Ÿ
  
- [ ] **Day 4-5**: Scheduler è°ƒåº¦æœºåˆ¶
  - [ ] è°ƒåº¦å™¨çŠ¶æ€åˆ†æ
  - [ ] åŸºæœ¬è°ƒåº¦å®éªŒ
  - [ ] èµ„æºè¯·æ±‚è°ƒåº¦å®éªŒ
  - [ ] è°ƒåº¦çº¦æŸå®éªŒ
  - [ ] è°ƒåº¦æ•…éšœæ’æŸ¥
  
- [ ] **Day 6-7**: æ·±åº¦é˜…è¯»å’Œç†è§£
  - [ ] å®Œæ•´æµç¨‹è¿½è¸ªå®éªŒ
  - [ ] é˜…è¯»æ¨èæ–‡ç« 

### ç¬¬3-6å‘¨å®Œæˆæƒ…å†µ
- [ ] **ç¬¬3å‘¨**: Node ç»„ä»¶å’Œç½‘ç»œ
  - [ ] Kubelet æ·±å…¥ç†è§£
  - [ ] Container Runtime æ¢ç´¢
  - [ ] Kube-proxy å’Œç½‘ç»œ

- [ ] **ç¬¬4å‘¨**: æ ¸å¿ƒæ’ä»¶å’Œå®æˆ˜
  - [ ] DNS æœåŠ¡å‘ç°
  - [ ] ç½‘ç»œæ’ä»¶ç†è§£
  - [ ] ç»¼åˆå®è·µ

- [ ] **ç¬¬5-6å‘¨**: æ·±åŒ–ç†è§£å’Œå®æˆ˜
  - [ ] ç»„ä»¶äº¤äº’åˆ†æ
  - [ ] æ•…éšœæ’æŸ¥ç»ƒä¹ 
  - [ ] æ€§èƒ½ç›‘æ§ä¼˜åŒ–

## ğŸ¯ æ¯æ—¥å­¦ä¹ å»ºè®®

### å®è·µæŠ€å·§
- **å¤šç»ˆç«¯å¹¶è¡Œ**ï¼šåŒæ—¶å¼€å¯å¤šä¸ªç»ˆç«¯çª—å£ç›‘æ§ä¸åŒç»„ä»¶
- **æ—¥å¿—åˆ†æ**ï¼šå…»æˆæŸ¥çœ‹æ—¥å¿—çš„ä¹ æƒ¯ï¼Œæ—¥å¿—æ˜¯æœ€å¥½çš„è€å¸ˆ
- **æˆªå›¾è®°å½•**ï¼šé‡è¦çš„å®éªŒç»“æœå»ºè®®æˆªå›¾ä¿å­˜
- **ç¬”è®°æ•´ç†**ï¼šå»ºè®®ä½¿ç”¨ Markdown æ ¼å¼è®°å½•å­¦ä¹ ç¬”è®°

### æ—¶é—´åˆ†é…å‚è€ƒ
- **ç†è®ºé˜…è¯»**ï¼š30%
- **åŠ¨æ‰‹å®è·µ**ï¼š50%
- **ç¬”è®°æ•´ç†**ï¼š10%
- **é—®é¢˜è§£å†³**ï¼š10%